var t={},e=t&&t.__createBinding||(Object.create?function(t,e,a,l){void 0===l&&(l=a),Object.defineProperty(t,l,{enumerable:!0,get:function(){return e[a]}})}:function(t,e,a,l){void 0===l&&(l=a),t[l]=e[a]}),a=t&&t.__exportStar||function(t,a){for(var l in t)"default"===l||Object.prototype.hasOwnProperty.call(a,l)||e(a,t,l)};Object.defineProperty(t,"__esModule",{value:!0});var l={};Object.defineProperty(l,"__esModule",{value:!0});var n=(i=void 0,r=l.fillTableRow=i,s=l.createEmptyColumns=r,o=l.tableLayout=s,c=l.computeTextStyle=o,u=l.localizeValue=c,p=l.localizeDate=u,l.localizeNumber=p);l.createFooter=n;var i=function t(e,a,l={}){return e.length===a?e:(e.push(l),t(e,a,l))};l.fillTableRow=i;var r=t=>Array(t).fill({});l.createEmptyColumns=r;var s={hLineWidth:function(){return 0},vLineWidth:function(){return 0}};l.tableLayout=s;var o=function(t,e,a){return"Date"===e?y(t,a):"Array"===e&&Array.isArray(t)?t.join(", "):"Number"===e&&"number"==typeof t?m(t,a):t};l.computeTextStyle=o;var c=function(t,e,a="EN"){let l;switch(e){case"number":l=m(Number(t));break;case"date":case"date-time":l=y(t,a);break;default:l=t}return l};function y(t,e="EN"){const a=new Date(t);return new Intl.DateTimeFormat(e,{weekday:"long",year:"numeric",month:"numeric",day:"numeric"}).format(a)}l.localizeValue=c;var u=y;function m(t,e="EN"){return new Intl.NumberFormat(e,{maximumSignificantDigits:6}).format(t)}l.localizeDate=u;var p=m;l.localizeNumber=p,n=function(t){return{style:"table",margin:[0,50,0,0],table:{widths:[280,250],body:[[{text:[{text:"Powered by ",style:"small",margin:[0,0,0,0]},{text:"en10204.io",style:"small",color:"blue",margin:[0,0,0,0],decoration:"underline",link:"https://en10204.io"}]},{text:t,style:"small",color:"#D3D3D3",margin:[0,0,0,0],alignment:"right"}]]},layout:s}},l.createFooter=n,a(l,t);var d={};Object.defineProperty(d,"__esModule",{value:!0});var b=void 0;d.Translate=b;b=class{constructor(t,e=["EN"]){this.translations=t,this.languages=e}getField(t,e,a){const l=this.translations;return t in l&&e in l[t]&&a in l[t][e]?l[t][e][a]:""}getTranslation(t,e){return this.languages.map((a=>this.getField(a,t,e))).join(" / ")}translate(t,e){return"certificateFields"===e?`${t} ${this.getTranslation(e,t)}`:this.getTranslation(e,t)}},d.Translate=b,a(d,t);var f={};Object.defineProperty(f,"__esModule",{value:!0}),a(f,t);const x=(e,a,l=3)=>{const n=Object.keys(e).map((n=>[{text:`${n} ${e[n].Key}`,style:"tableHeader",colSpan:l-1},...t.createEmptyColumns(l-2),{text:`${t.localizeValue(e[n].Value,e[n].Type,a.languages[0])} ${e[n].Unit||""}`,style:"p",colSpan:1}]));return null!=n&&n.length?[[{text:a.translate("SupplementaryInformation","otherFields"),style:"h5",colSpan:l},...t.createEmptyColumns(l-1)],...n]:[]};function h(e,a,l){if(!e)return[];const{Property:n,Value:i,Minimum:r,Maximum:s,Unit:o}=e;return[[{text:`${l.translate(a,"certificateFields")} ${n||""}`,style:"tableHeader"},{},{},{alignment:"justify",columns:[{text:`${t.localizeNumber(i,l.languages[0])} ${o||""}`,style:"p"},{text:r?`min ${t.localizeNumber(r,l.languages[0])} ${o}`:"",style:"p"},{text:s?`max ${t.localizeNumber(s,l.languages[0])} ${o}`:"",style:"p"}]}]]}function C(e,a,l){var n;return null!=e&&e.length?[[{text:l.translate(a,"certificateFields"),style:"tableHeader"},{},{},{text:`${e.map((({Value:e})=>t.localizeNumber(e,l.languages[0]))).join(", ")} ${(null===(n=e[0])||void 0===n?void 0:n.Unit)||""}`,style:"p"}]]:[]}function g(e,a){const l=["C00","C01","C02","C03"],n=Object.keys(e).filter((t=>l.includes(t)&&e[t])).map((t=>[{text:a.translate(t,"certificateFields"),style:"tableHeader",colSpan:3},{},{},{text:e[t],style:"p"}])),i=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[],r=e.TensileTest?function(e,a){const l=e.C10?[{text:a.translate("C10","certificateFields"),style:"tableHeader"},{},{},{text:e.C10,style:"p"}]:t.createEmptyColumns(4),n=["C11","C12","C13"].filter((t=>e[t])).map((t=>h(e[t],t,a)[0]||[])),i=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[];return[{text:a.translate("TensileTest","otherFields"),style:"h4"},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:.5}]},{style:"table",id:"TensileTest",table:{widths:[160,"*","*",300],body:[l,...n,...i]},layout:t.tableLayout}]}(e.TensileTest,a):[],s=e.HardnessTest?function(e,a){const l=e.C30?[{text:a.translate("C30","certificateFields"),style:"tableHeader"},{},{},{text:e.C30,style:"p"}]:t.createEmptyColumns(4),n=e.C31?C(e.C31,"C31",a):[],i=e.C32?h(e.C32,"C32",a):[],r=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[];return[{text:a.translate("HardnessTest","otherFields"),style:"h4"},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:.5}]},{style:"table",table:{widths:[160,"*","*",300],body:[l,...n,...i,...r]},layout:t.tableLayout}]}(e.HardnessTest,a):[],o=e.NotchedBarImpactTest?function(e,a){const l=e.C40?[{text:a.translate("C40","certificateFields"),style:"tableHeader"},{},{},{text:e.C40,style:"p"}]:t.createEmptyColumns(4),n=e.C41?h(e.C41,"C41",a):[],i=e.C42?C(e.C42,"C42",a):[],r=e.C43?h(e.C43,"C43",a):[],s=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[];return[{text:a.translate("NotchedBarImpactTest","otherFields"),style:"h4"},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:.5}]},{style:"table",table:{widths:[160,"*","*",300],body:[l,...n,...i,...r,...s]},layout:t.tableLayout}]}(e.NotchedBarImpactTest,a):[],c=e.OtherMechanicalTests?function(e,a){const l=Object.keys(e).map((t=>[{text:`${t} ${e[t].Key}`,style:"p"},{},{},{text:e[t].Value||"",style:"p"}]));return[{text:a.translate("OtherMechanicalTests","otherFields"),style:"h4"},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:.5}]},{style:"table",table:{widths:[160,"*","*",300],body:l},layout:t.tableLayout}]}(e.OtherMechanicalTests,a):[],y=e.ChemicalComposition?function(e,a){const l=e.C70?[{text:a.translate("C70","certificateFields"),style:"tableHeader"},{},{},{text:e.C70,style:"p"}]:t.createEmptyColumns(4),n=function(e,a,l=15){const n=Object.keys(e).filter((t=>"C70"!==t&&"SupplementaryInformation"!==t)).map((t=>({key:t,value:e[t]}))),i=new Array(Math.ceil(n.length/l)).fill("").map((()=>n.splice(0,l))),r=[-2,2,-2,2];return i.map((e=>{const l=[[{text:"",style:"p"},...e.map((t=>({text:t.key,style:"p",margin:r})))],[{text:"Symbol",style:"p"},...e.map((t=>({text:t.value.Symbol,style:"p",margin:r})))],[{text:"Actual [%]",style:"p"},...e.map((e=>({text:t.localizeNumber(e.value.Actual,a.languages[0]),style:"caption",margin:r})))]];if(e.some((t=>Object.prototype.hasOwnProperty.call(t.value,"Minimum")))){const n=[{text:"Minimum",style:"p"},...e.map((e=>{var l;return{text:null!==(l=e.value)&&void 0!==l&&l.Minimum?t.localizeNumber(e.value.Minimum,a.languages[0]):"",style:"caption",margin:r}}))];l.push(n)}if(e.some((t=>Object.prototype.hasOwnProperty.call(t.value,"Maximum")))){const n=[{text:"Maximun",style:"p"},...e.map((e=>{var l;return{text:null!==(l=e.value)&&void 0!==l&&l.Maximum?t.localizeNumber(e.value.Maximum,a.languages[0]):"",style:"caption",margin:r}}))];l.push(n)}return{style:"table",table:{widths:new Array(e.length+1).fill("").map(((t,e)=>0===e?45:25)),body:l},layout:t.tableLayout}}))}(e,a),i=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[[{text:"",colSpan:4},{},{},{}]];return[{text:a.translate("ChemicalComposition","otherFields"),style:"h4"},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:.5}]},{style:"table",table:{widths:[160,"*","*",300],body:[l]},layout:t.tableLayout},...n,{style:"table",table:{widths:[160,"*","*",300],body:i},layout:t.tableLayout}]}(e.ChemicalComposition,a):[];return[{text:`${a.translate("Inspection","certificateGroups")}`,style:"h2",margin:[0,0,0,4]},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:1}]},{id:"Inspection",style:"table",table:{widths:[160,"*","*",300],body:[...n,...i]},layout:t.tableLayout},...r,...s,...o,...c,...y]}const v=(e,a,l,n=4)=>{const i=Object.keys(e).map((l=>{var i,r;return[{text:`${l} ${e[l].Key}`,style:"tableHeader",colSpan:n-1},...t.createEmptyColumns(n-2),{text:`${t.localizeValue(e[l].Value||"",(null===(i=e[l])||void 0===i?void 0:i.Type)||"string",a.languages[0])} ${(null===(r=e[l])||void 0===r?void 0:r.Unit)||""}`,style:"p"}]}));return null!=i&&i.length?[{text:a.translate(l,"otherFields"),style:"h4"},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:.5}]},{style:"table",table:{widths:[160,"*","*",300],body:i},layout:t.tableLayout}]:[]};function T(e,a){const l=function(t,e){return[[{text:e.translate("B02","certificateFields"),colSpan:4,style:"tableHeader"},{},{},{}],...Object.keys(t).map((a=>[{text:e.translate(a,"otherFields"),style:"caption",colSpan:3},{},{},{text:t[a].join(", "),style:"p"}]))]}(e.B02,a),n=["B01","B02","B09","B10","B11","B12","B12","B13","SupplementaryInformation"],i=Object.keys(e).filter((t=>!n.includes(t))).map((t=>[{text:a.translate(t,"certificateFields"),style:"tableHeader",colSpan:3},{},{},{text:e[t],style:"p"}])),r=function(t,e){return void 0===t?[]:[[{text:e.translate("B09","certificateFields"),style:"tableHeader",colSpan:4},{},{},{}],...Object.keys(t).filter((t=>"unit"!==t.toLowerCase())).map((a=>[{text:e.translate(a,"otherFields"),style:"caption",colSpan:3},{},{},{text:"Form"===a?e.translate(t[a],"otherFields"):`${t[a]} ${t.Unit||""}`,style:"p"}]))]}(e.B09,a),s=h(e.B10,"B10",a),o=h(e.B11,"B11",a),c=h(e.B12,"B12",a),y=h(e.B13,"B13",a),u=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[];return[{text:`${a.translate("ProductDescription","certificateGroups")}`,style:"h2",margin:[0,0,0,4]},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:1}]},{style:"table",id:"ProductDescription",table:{widths:[160,"*","*",300],body:[[{text:a.translate("B01","certificateFields"),style:"tableHeader",colSpan:3},{},{},{text:e.B01,style:"p"}],...l,...i,...r,...s,...o,...c,...y,...u]},layout:t.tableLayout}]}function S(e){return[[e.slice(0,3)],[t.fillTableRow([...e.slice(3,e.length)],3,"")]]}function w(e,a){const[l,n]=function(t,e){const a=t.A04?[[{text:e.translate("A04","certificateFields"),style:"tableHeader"}]]:[],l=t.A04?[[{image:t.A04,width:150}]]:[],n=Object.keys(t).filter((t=>["A01","A06","A06.1","A06.2","A06.3"].includes(t)));return[[...a,...n.map((t=>[{text:e.translate(t,"certificateFields"),style:"tableHeader"}]))],[...l,...n.map((e=>{var a;return[{text:t[e].CompanyName,style:"p"},{text:t[e].Street,style:"p"},{text:`${t[e].City},${t[e].ZipCode},${t[e].Country}`,style:"p"},{text:(null===(a=t[e])||void 0===a?void 0:a.VAT_Id)||"",style:"p"},{text:t[e].Email,style:"p"}]}))]]}(e,a);if(l.length<=3){return{style:"table",table:{widths:[200,150,150],body:[t.fillTableRow(l,3,""),t.fillTableRow(n,3,"")]},layout:t.tableLayout}}const i=S(l),r=S(n);return{style:"table",table:{widths:[200,150,150],body:[...i[0],...r[0],...i[1],...r[1]]},layout:t.tableLayout}}exports.generateContent=function(e,a){const l=new t.Translate(a,e.Certificate.CertificateLanguages);return[w(e.Certificate.CommercialTransaction,l),...function(e,a){const l=["A01","A04","A06","A06.1","A06.2","A06.3","SupplementaryInformation"],n=Object.keys(e).filter((t=>!l.includes(t))).map((t=>[{text:a.translate(t,"certificateFields"),style:"tableHeader",colSpan:3},{},{},{text:e[t],style:"p"}])),i=e.SupplementaryInformation?x(e.SupplementaryInformation,a,4):[];return[{text:`${a.translate("CommercialTransaction","certificateGroups")}`,style:"h2",margin:[0,0,0,4]},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:1}]},{style:"table",id:"CommercialTransaction",table:{widths:[160,"*","*",300],body:[...n,...i]},layout:t.tableLayout}]}(e.Certificate.CommercialTransaction,l),...T(e.Certificate.ProductDescription,l),...g(e.Certificate.Inspection,l),...function(e,a){if(!e)return[{style:"table",id:"OtherTests",table:{widths:[160,"*","*",300],body:[t.createEmptyColumns(4)]},layout:t.tableLayout}];const l=e.D01?[{text:a.translate("D01","certificateFields"),style:"tableHeader",colSpan:3},{},{},{text:e.D01,style:"p"}]:t.createEmptyColumns(4),n=e.NonDestructiveTests?v(e.NonDestructiveTests,a,"NonDestructiveTests",4):[],i=e.OtherProductTests?v(e.OtherProductTests,a,"OtherProductTests",4):[];return[{text:`${a.translate("OtherTests","certificateGroups")}`,style:"h2",margin:[0,0,0,4]},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:1}]},{style:"table",id:"OtherTests",table:{widths:[160,"*","*",300],body:[l]},layout:t.tableLayout},...n,...i]}(e.Certificate.OtherTests,l),...function(e,a){const l=e.SupplementaryInformation?x(e.SupplementaryInformation,a,3):[[{text:"",colSpan:3},{},{}]];return[{text:`${a.translate("Validation","certificateGroups")}`,style:"h2",margin:[0,0,0,4]},{canvas:[{type:"line",x1:0,y1:0,x2:550,y2:0,lineWidth:1}]},{columns:[{style:"table",table:{widths:[160,"*",180],body:[[{text:a.translate("Z01","certificateFields"),style:"tableHeader",colSpan:2},{},{text:e.Z01,style:"p"}],[{text:a.translate("Z02","certificateFields"),style:"tableHeader",colSpan:2},{},{text:t.localizeDate(e.Z02,a.languages[0]),style:"p"}],[{text:a.translate("Z03","certificateFields"),style:"tableHeader",colSpan:2},{},{text:null==e?void 0:e.Z03,style:"p"}]]},layout:t.tableLayout},{width:100,style:"table",table:{body:[[{image:e.Z04.CE_Image}],[{text:e.Z04.NotifiedBodyNumber,alignment:"center",bold:!0,style:"caption"}],[{text:e.Z04.DoCYear,alignment:"center",bold:!0,style:"caption"}],[{text:e.Z04.DoCNumber,alignment:"center",bold:!0,style:"caption"}]]},layout:t.tableLayout}]},{style:"table",table:{widths:[160,"*",300],body:l},layout:t.tableLayout}]}(e.Certificate.Validation,l),t.createFooter(e.RefSchemaUrl)]};